# ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Schema)

ูุณุชุฎุฏู ุงููุธุงู ูุงุนุฏุฉ ุจูุงูุงุช **MySQL**. ูุชู ุฅุฏุงุฑุฉ ุงููุฎุทุท (Schema) ุจุงุณุชุฎุฏุงู **Knex Migrations**.

## ๐ ุงูุฌุฏุงูู (Tables)

### 1. `users`
ุฌุฏูู ุงููุณุชุฎุฏููู ุงูุฃุณุงุณู. ูุญุชูู ุนูู ุจูุงูุงุช ุงูุฏุฎูู ูุญุงูุฉ ุงูุญุณุงุจ.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | INT (PK) | ุงููุนุฑู ุงููุฑูุฏ ูููุณุชุฎุฏู |
| `email` | VARCHAR | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Unique) |
| `password` | VARCHAR | ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ (Hashed) |
| `first_name` | VARCHAR | ุงูุงุณู ุงูุฃูู |
| `last_name` | VARCHAR | ุงุณู ุงูุนุงุฆูุฉ |
| `role` | ENUM | ุงูุตูุงุญูุฉ (`user`, `admin`) - ุงูุงูุชุฑุงุถู `user` |
| `is_verified` | BOOLEAN | ูู ุชู ุงูุชุญูู ูู ุงูุจุฑูุฏุ |
| `verification_code`| VARCHAR | ููุฏ ุงูุชุญูู ุงูุญุงูู |
| `created_at` | TIMESTAMP | ุชุงุฑูุฎ ุงูุฅูุดุงุก |
| `updated_at` | TIMESTAMP | ุชุงุฑูุฎ ุขุฎุฑ ุชุนุฏูู |

### 2. `customers`
ุฌุฏูู ุชูุงุตูู ุงูุนููุงุก (ูุฏ ูููู ูุฑุชุจุทุงู ุจุงููุณุชุฎุฏู ุฃู ูููุตูุงู ุญุณุจ ุงูุชุตูููุ ููุง ููุชุฑุถ ุฃูู ุงูุชุฏุงุฏ ูุจูุงูุงุช ุงููุณุชุฎุฏู ุฃู ููุงู ูุณุชูู ููุดุฑูุงุช).

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | INT (PK) | ุงููุนุฑู ุงููุฑูุฏ |
| `user_id` | INT (FK) | ูุนุฑู ุงููุณุชุฎุฏู ุงููุฑุชุจุท (ุฅู ูุฌุฏ) |
| `type` | ENUM | ููุน ุงูุนููู (`individual`, `company`) |
| `company_name` | VARCHAR | ุงุณู ุงูุดุฑูุฉ (ููุดุฑูุงุช ููุท) |
| `phone` | VARCHAR | ุฑูู ุงููุงุชู |
| `address` | TEXT | ุงูุนููุงู ุงููุงูู |

### 3. `licenses`
ุฌุฏูู ุงูุชุฑุงุฎูุต ุงูููููุญุฉ ููุนููุงุก.

| Column | Type | Description |
| :--- | :--- | :--- |
| `id` | INT (PK) | ุงููุนุฑู ุงููุฑูุฏ ููุชุฑุฎูุต |
| `customer_id` | INT (FK) | ูุนุฑู ุงูุนููู ุตุงุญุจ ุงูุชุฑุฎูุต |
| `type` | ENUM | ููุน ุงูุงุดุชุฑุงู (`monthly`, `yearly`) |
| `status` | ENUM | ุญุงูุฉ ุงูุชุฑุฎูุต (`active`, `expired`, `cancelled`) |
| `start_date` | DATETIME | ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุชุฑุฎูุต |
| `end_date` | DATETIME | ุชุงุฑูุฎ ุงูุชูุงุก ุงูุชุฑุฎูุต |
| `seat_count` | INT | ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุณููุญ ุจูู |

---

## ๐ ุงูุนูุงูุงุช (Relationships)

- **Users โ Customers:** ุนูุงูุฉ (1:1) ุฃู (1:N) ุญุณุจ ููุทู ุงูุนูู. ุนุงุฏุฉู ุงููุณุชุฎุฏู ุงููุงุญุฏ ููุซู ุนูููุงู ูุงุญุฏุงู.
- **Customers โ Licenses:** ุนูุงูุฉ (1:N). ุงูุนููู ุงููุงุญุฏ ูููู ุฃู ููุชูู ุนุฏุฉ ุชุฑุงุฎูุต.

---

## ๐ ููุงุญุธุงุช
- ูุชู ุงุณุชุฎุฏุงู `created_at` ู `updated_at` ูู ุฌููุน ุงูุฌุฏุงูู ูุชุชุจุน ุงูุชุบููุฑุงุช.
- ุงูููุงุชูุญ ุงูุฃุฌูุจูุฉ (Foreign Keys) ุชุถูู ุชูุงูู ุงูุจูุงูุงุช (Referential Integrity).