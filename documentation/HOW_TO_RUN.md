# دليل تشغيل بوابة PowerFlow (PowerFlow Portal)

هذا الملف يشرح كيفية تشغيل المشروع على السيرفر أو الجهاز المحلي، وكيفية تحديث الكود من GitHub.

## 1. المتطلبات الأساسية (Prerequisites)
تأكد من تثبيت البرامج التالية:
- **XAMPP**: لتشغيل قاعدة البيانات (MySQL).
- **Node.js**: لتشغيل الباك إند والفرونت إند.
- **Git**: لسحب التحديثات.

---

## 2. خطوات التشغيل (How to Run)

### أولاً: تشغيل قاعدة البيانات (Database)
1. افتح برنامج **XAMPP Control Panel**.
2. اضغط على زر **Start** بجانب **MySQL**.
3. تأكد أن العلامة أصبحت خضراء.

### ثانياً: تشغيل السيرفر (Backend)
1. افتح نافذة موجه الأوامر (Terminal/CMD).
2. اذهب لمجلد المشروع ثم لمجلد الباك إند:
   ```bash
   cd powerflow-portal/backend
   ```
3. شغل السيرفر بالأمر:
   ```bash
   npm run dev
   ```
   *ستظهر رسالة: `Server running on port 4000`*

### ثالثاً: تشغيل الواجهة (Frontend)
1. افتح نافذة موجه أوامر **جديدة** (New Terminal).
2. اذهب لمجلد المشروع ثم لمجلد الفرونت إند:
   ```bash
   cd powerflow-portal/frontend
   ```
3. شغل الواجهة بالأمر:
   ```bash
   npm start
   ```
   *سيفتح المتصفح تلقائياً على الرابط: `http://localhost:3000`*

---

## 3. تحديث الكود من GitHub (How to Update)

عند وجود تحديثات جديدة للكود، اتبع الخطوات التالية لسحبها:

1. افتح نافذة موجه الأوامر (Terminal) في المجلد الرئيسي للمشروع (`powerflow-portal`).
2. نفذ الأمر التالي لسحب التحديثات:
   ```bash
   git pull origin main
   ```
3. إذا كان هناك تحديثات في المكتبات (Libraries)، قد تحتاج لتشغيل هذا الأمر في مجلدي `backend` و `frontend`:
   ```bash
   npm install
   ```
4. إذا كان هناك تحديثات في قاعدة البيانات، شغل هذا الأمر في مجلد `backend`:
   ```bash
   npx prisma migrate dev
   ```

---

## ملاحظات هامة
- تأكد من أن ملف `.env` موجود في مجلد `backend` ويحتوي على الإعدادات الصحيحة (مثل كلمة مرور قاعدة البيانات ومفاتيح API).
- لا تغلق نوافذ الـ Terminal أثناء عمل الموقع.
